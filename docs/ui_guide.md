# AI代码审查仪表板使用指南

## 概述

AI代码审查仪表板是一个基于Streamlit构建的现代化Web界面，用于可视化展示代码审查数据和团队绩效指标。

## 功能特性

### 🔐 安全登录
- 用户名/密码认证
- 安全提示和密码修改建议
- 会话管理

### 📊 数据可视化
- **项目统计**: 项目提交次数和平均分数
- **人员绩效**: 个人提交次数、平均分数和代码变更量
- **时间筛选**: 支持自定义时间范围
- **多维筛选**: 支持按用户名和项目名筛选

### 📋 数据管理
- 实时数据展示
- 交互式数据表格
- 数据导出功能
- 响应式布局设计

## 快速开始

### 1. 启动方式

#### Windows用户
```bash
# 方式1: 使用批处理文件（推荐）
run_ui.bat

# 方式2: 直接运行
python ui.py
```

#### Linux/Mac用户
```bash
# 方式1: 使用Shell脚本（推荐）
chmod +x run_ui.sh
./run_ui.sh

# 方式2: 直接运行
python ui.py
```

> 💡 **配置说明**: UI服务会自动从 `conf/.env` 文件读取 `UI_PORT` 配置（默认5002）并绑定到 `0.0.0.0`。

### 2. 访问界面

启动后，在浏览器中访问：`http://localhost:8501`

### 3. 登录设置

默认登录信息：
- 用户名: `admin`
- 密码: `admin`

⚠️ **安全提示**: 首次使用时请立即修改默认密码。

修改方法：
1. 编辑 `conf/.env` 文件
2. 修改以下配置：
   ```bash
   DASHBOARD_USER=your_username
   DASHBOARD_PASSWORD=your_secure_password
   ```
3. 重启应用

## 界面功能

### 主界面布局

1. **顶部导航**: 页面标题和用户信息
2. **侧边栏**: 用户信息和注销按钮
3. **筛选区域**: 时间范围、用户和项目筛选
4. **数据概览**: 关键指标卡片展示
5. **详细数据**: 可编辑的数据表格
6. **图表分析**: 多维度数据可视化

### 数据标签页

#### 📋 Merge Request
- 显示合并请求的审查数据
- 包含源分支、目标分支信息
- 提供审查链接快速跳转

#### 🚀 Push Events (可选)
- 显示推送事件的审查数据
- 需要在环境变量中设置 `PUSH_REVIEW_ENABLED=1`

### 图表类型

1. **📈 项目提交次数**: 横向柱状图显示各项目活跃度
2. **⭐ 项目平均分数**: 展示各项目代码质量
3. **👥 人员提交次数**: 显示团队成员贡献度
4. **🏆 人员平均分数**: 展示个人代码质量
5. **💻 代码变更行数**: 显示代码变更量统计

## 技术特性

### 响应式设计
- 适配不同屏幕尺寸
- 移动端友好的布局
- 自适应图表大小

### 性能优化
- 图表内存管理
- 数据分页显示
- 只显示TOP 10数据避免过载

### 中文支持
- 完整的中文界面
- 中文字体图表支持
- 本地化的日期格式

## 故障排除

### 常见问题

1. **ModuleNotFoundError: No module named 'streamlit'**
   ```bash
   pip install -r requirements.txt
   ```

2. **图表中文显示乱码**
   - 系统需要安装中文字体包
   - Windows用户通常不会遇到此问题

3. **无法访问UI端口**
   - 检查防火墙设置
   - 确认端口未被占用
   - 修改 `conf/.env` 中的 `UI_PORT` 配置：`UI_PORT=8502`
   - 重新启动：`python ui.py`

4. **数据不显示**
   - 检查数据库连接
   - 确认有审查数据记录
   - 检查时间筛选范围

### 性能建议

1. **大数据量处理**
   - 缩小时间筛选范围
   - 使用项目或用户筛选
   - 定期清理历史数据

2. **网络访问**
   - UI默认绑定到 `0.0.0.0`，支持局域网访问
   - 端口通过 `conf/.env` 中的 `UI_PORT` 配置
   - 注意安全性，建议使用VPN或防火墙保护

## 更新日志

### v2.0.0 (Latest)
- 🎨 全新现代化UI设计
- 📱 响应式布局支持
- 🔍 增强的数据筛选功能
- 📊 优化的图表展示
- 🚀 性能和内存优化
- 🔐 改进的安全认证
- 🌍 完整中文支持

## 技术栈

- **前端框架**: Streamlit
- **图表库**: Matplotlib
- **数据处理**: Pandas
- **样式**: Custom CSS
- **字体支持**: 多语言字体包

## 支持

如遇到问题或需要功能建议，请：
1. 检查本文档的故障排除部分
2. 查看应用日志文件
3. 提交Issue到项目仓库

---

**享受您的AI代码审查之旅！** 🚀
